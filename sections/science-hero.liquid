{%- comment -%}Science Hero Section{%- endcomment -%}
<div class="py-6 lg:py-8 pt-8 pb-6 md:py-16 lg:pt-24 lg:pb-28">
  <div class="flex flex-col items-center justify-center w-full lg:min-h-[600px] site-container">
    <div class="lg:mb-[72px] mb-10 flex flex-col items-center w-full">
      {% unless section.settings.eyebrow == blank %}
        <h2 class="sub-heading text-center mb-2 lg:mb-3">{{ section.settings.eyebrow }}</h2>
      {% endunless %}
      {% unless section.settings.title == blank %}
        <div class="heading heading--1 !text-[45px] lg:!text-[60px] !normal-case text-center max-w-[383px]  lg:flex-row lg:gap-3 lg:max-w-full">
          {{ section.settings.title }}
        </div>
      {% endunless %}
      {% unless section.settings.text == blank %}
        <div class="paragraph paragraph--2 text-center lg:max-w-[525px] mt-4 mb-10">
          {{ section.settings.text }}
        </div>
      {% endunless %}
    </div>
    {% comment %} desktop grid {% endcomment %}
    <div class="d-none grid-cols-2 lg:flex gap-5 lg:gap-6 lg:flex-wrap">
      {% for block in section.blocks %}
        <div>
          <div class="relative w-[137px] pb-[100%] rounded-full overflow-hidden bg-beige">
            {% render 'image', image: block.settings.image, class: 'site-image rounded-full' %}
          </div>
        </div>
        {% if forloop.index == 2 %}
          <div class="flex col-span-2 lg:col-span-1 flex-col justify-center items-center">
            <div class="relative w-[137px]">
              <div class="absolute top-[50%] left-[50%] translate-x-[-50%] translate-y-[-50%] text-black">
                {% render 'img-badge-logo' %}
              </div>
              <div class="animate-spin-slow text-black">
                {% render 'img-badge-text' %}
              </div>
            </div>
          </div>
        {% endif %}
      {% endfor %}
    </div>
  </div>

  {% comment %} mobile carousel {% endcomment %}
  <div class="lg:hidden w-full">
    <site-carousel
      data-config='{"slidesPerView": 2.8, "loop": false, "spaceBetween": 20}'
      id="{{ section.id }}"
      class="block"
      data-id="{{ section.id }}"
    >
      <div class="swiper px-4">
        <div class="swiper-wrapper">
          {% for block in section.blocks %}
            <div class="swiper-slide">
              <div class="relative pb-[100%] rounded-full overflow-hidden bg-beige">
                {% render 'image', image: block.settings.image, class: 'site-image rounded-full' %}
              </div>
            </div>
            {% if forloop.index == 2 %}
              <div class="swiper-slide">
                <div class="flex flex-col justify-center items-center">
                  <div class="relative">
                    <div class="absolute top-[50%] left-[50%] translate-x-[-50%] translate-y-[-50%] text-black">
                      {% render 'img-badge-logo' %}
                    </div>
                    <div class="animate-spin-slow text-black w-full">
                      {% render 'img-badge-text', width: '100%' %}
                    </div>
                  </div>
                </div>
              </div>
            {% endif %}
          {% endfor %}
        </div>
      </div>
    </site-carousel>
  </div>
</div>

{% schema %}
{
  "name": "Science Hero",
  "tag": "section",
  "blocks": [
    {
      "name": "Images",
      "type": "images",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Science Hero"
    }
  ],
  "settings": [
    {
      "type": "text",
      "id": "eyebrow",
      "label": "Eyebrow"
    },
    {
      "type": "richtext",
      "id": "title",
      "label": "Title"
    },
    {
      "type": "richtext",
      "id": "text",
      "label": "Text Content"
    }
  ]
}
{% endschema %}
