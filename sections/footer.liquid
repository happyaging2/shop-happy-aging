{% assign is_lp = false %}
{% for i in (1..5) %}
  {% assign lp_str = 'lp_' | append: i %}
  {% assign lp = settings[lp_str] %}
  {% if template contains lp %}
    {% assign is_lp = true %}
  {% endif %}
{% endfor %}

<footer class="border-t-[1px] border-black {% if template == 'product' %}pb-40 lg:pb-24{% else %}pb-6{% endif %}">
  {% unless is_lp == true %}
    <div
      class="
        site-container
        relative lg:flex  lg:pt-10 lg:pb-12
        after:content-[''] after:h-full after:w-[1px] after:bg-black after:hidden after:lg:block after:absolute after:top-0 after:left-[50%] after:-translate-x-[-50%]
      "
    >
      <div class="border-b lg:border-none border-black md:columns-2 lg:flex lg:gap-8 lg:items-center mb-9 md:mb-12 lg:mb-0 pt-7 lg:pt-0 pb-12 lg:pb-0 lg:pr-12 xl:pr-16 lg:w-1/2">
        <div class="flex items-center gap-7 mb-8 md:mb-0">
          <svg
            class="fill-black h-[54px] w-[68px]"
            width="68"
            viewBox="0 0 73 35"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path d="M48.1962 22.6069L53.9532 8.00806L55.3553 4.05552L55.674 4.05552L56.9911 7.92305L60.7724 17.8469C56.5875 20.0357 52.4025 21.6294 48.1962 22.6282M64.4901 17.8044C65.7435 17.0819 66.9756 16.2956 68.2077 15.4669C69.5885 14.5531 72.6264 12.9168 72.6264 12.9168L70.9056 10.6643C70.9056 10.6643 68.5689 13.0656 67.2305 13.9581C66.1046 14.7231 64.9574 15.4244 63.8315 16.1044L57.9258 0.697988L54.8455 0.697989L45.9232 23.0957C43.1403 23.6057 40.3573 23.8607 37.5957 23.8395L37.5957 3.22677L37.7444 0.719242L33.6868 0.719243L33.8356 3.22677L33.8356 23.6482C27.5262 23.0532 21.1531 21.0982 14.7588 17.8044L14.7588 3.22677L14.9287 0.719246L10.85 0.719247L11.0199 3.22677L11.0199 15.7219C9.02302 14.5319 7.00488 13.1931 4.98674 11.7268C4.07326 11.0681 2.58621 9.24058 2.58621 9.24058L0.886721 11.4081C0.886721 11.4081 3.07481 12.5131 4.03077 13.2144C6.36757 14.9144 8.70437 16.4231 11.0199 17.7619L11.0199 31.3195L10.85 34.3796L14.9287 34.3796L14.7588 31.3195L14.7588 19.7807C21.1531 22.9682 27.5262 24.8595 33.8356 25.4332L33.8356 31.3195L33.6869 34.3795L37.7444 34.3795L37.5957 31.3195L37.5957 25.6245C37.5957 25.6245 37.7869 25.6245 37.8718 25.6245C40.2936 25.6245 42.7154 25.412 45.1584 25.0295L42.6516 31.3195L41.3558 34.3795L43.8201 34.3795L44.776 31.3195L47.4102 24.6257C52.0838 23.6482 56.7574 21.9269 61.4098 19.5257L65.9134 31.3408L66.8269 34.4008L71.0544 34.4008L69.6948 31.3408L64.5113 17.8256L64.4901 17.8044Z" fill="currentColor"></path>
          </svg>
          <p class="eyebrow lg:hidden">{{ section.settings.mobile_message }}</p>
        </div>

        <div class="w-full">
          <p class="eyebrow d-none lg:block lg:mb-4">{{ section.settings.desktop_message }}</p>
          <newsletter-form
            data-list-id="{{ settings.klaviyo_newsletter_list_id }}"
            data-loading-text="Submitting..."
            data-success-text=""
          >
            <form>
              <div class="relative">
                <div class="text-input relative">
                  <input
                    id="NewsletterEmail"
                    class="paragraph paragraph--2"
                    type="email"
                    name="email"
                    autocorrect="off"
                    autocapitalize="off"
                    autocomplete="off"
                    placeholder=" "
                    required
                  >
                  <label class="paragraph paragraph--2" for="NewsletterEmail">
                    {{- section.settings.form_email_label -}}
                  </label>
                </div>
                <button
                  type="submit"
                  class="font-body-regular leading-5 uppercase text-xs tracking-wider lg:hover:underline absolute top-0 right-0 py-4 px-3"
                >
                  {{ section.settings.form_submit_label }}
                </button>
                <p class="text-xs mt-2">{{ section.settings.form_disclaimer_text }}</p>
              </div>
            </form>
            <p class="error d-none text-sm mt-2">Oops! There was an error submitting. Please try again.</p>
            <p class="success d-none text-sm mt-2">{{ section.settings.form_success_text }}</p>
          </newsletter-form>
        </div>
      </div>

      <div class="flex justify-between lg:items-center px-9 md:px-32 lg:px-16 xl:px-24 lg:w-1/2">
        <nav class="h-full">
          {% for link in linklists['footer-menu-shop'].links %}
            <a
              href="{{ link.url }}"
              class="font-body-regular leading-5 uppercase text-xs tracking-wider lg:hover:underline block py-2"
            >
              {{ link.title }}
            </a>
          {% endfor %}
        </nav>
        <nav class="h-full">
          {% for link in linklists['footer-menu-contact'].links %}
            <a
              href="{{ link.url }}"
              class="font-body-regular leading-5 uppercase text-xs tracking-wider lg:hover:underline block py-2"
            >
              {{ link.title }}
            </a>
          {% endfor %}
        </nav>
        <nav class="h-full">
          {% for link in linklists['footer-menu-social'].links %}
            <a
              target="_blank"
              href="{{ link.url }}"
              class="font-body-regular leading-5 uppercase text-xs tracking-wider lg:hover:underline block py-2"
            >
              {{ link.title }}
            </a>
          {% endfor %}
        </nav>
      </div>
    </div>
    <div class="lg:border-t w-full lg:mb-[126px]"></div>
  {% endunless %}

  <div class="mt-12 mb-11 md:mb-16 {% unless is_lp == true %}md:mt-24 lg:mt-32{% endunless %}">
    {% if is_lp == true %}
      <nav class="flex flex-wrap justify-center gap-x-8 gap-y-2 lg:gap-x-16 mb-12 w-2/3 md:w-full mx-auto">
        {% for link in linklists['lp-footer-menu'].links %}
          <a
            href="{{ link.url }}"
            class="font-body-regular leading-5 uppercase text-xs tracking-wider lg:hover:underline block py-2"
          >
            {{ link.title }}
          </a>
        {% endfor %}
      </nav>
    {% endif %}

    <svg
      viewBox="0 0 462 56"
      xmlns="http://www.w3.org/2000/svg"
      xml:space="preserve"
      style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2"
      class="h-auto mx-auto w-[275px] md:w-[460px]"
    >
      {% render 'logo' %}
    </svg>
  </div>

  <div class="flex gap-3 flex-col md:flex-row-reverse md:justify-between px-4 site-container">
    <div class="d-grid justify-items-center gap-2 md:grid-flow-col md:gap-6 md:justify-end">
      {% for link in linklists['menu-privacy-policy'].links %}
        <a
          href="{{ link.url }}"
          class="font-body-regular leading-5 uppercase text-xs tracking-wider lg:hover:underline"
        >
          {{ link.title }}
        </a>
      {% endfor %}
    </div>
    <div class="text-center">
      <p class="leading-5 uppercase text-xs tracking-[0.5px]">Â© {{ 'now' | date: '%Y' }} Happy Aging</p>
    </div>
  </div>
</footer>

{% schema %}
{
  "name": "Footer",
  "presets": [
    {
      "name": "Footer"
    }
  ],
  "settings": [
    {
      "type": "text",
      "id": "mobile_message",
      "label": "Mobile Message"
    },
    {
      "type": "text",
      "id": "desktop_message",
      "label": "Desktop Message"
    },
    {
      "type": "text",
      "id": "form_email_label",
      "label": "Form Email Label"
    },
    {
      "type": "text",
      "id": "form_disclaimer_text",
      "label": "Form Disclaimer Text"
    },
    {
      "type": "text",
      "id": "form_submit_label",
      "label": "Form Submit Text"
    },
    {
      "type": "text",
      "id": "form_success_text",
      "label": "Form Success Text"
    }
  ]
}
{% endschema %}
