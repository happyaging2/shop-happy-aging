{% comment %} Hero Section with clickable banner link for both full-screen and fifty-fifty modes {% endcomment %}
<div
  class="relative w-full {% if section.settings.fifty_fifty == false %}h-screen{% else %}min-h-[600px] lg:min-h-[832px]%{% endif %}"{% unless section.settings.bg_color == blank %} style="background: {{ section.settings.bg_color }}"{% endunless %}
>
  <!-- MEDIA: full background or half -->
  <div class="absolute inset-0 overflow-hidden">
    {% if section.settings.banner_link != blank %}<a href="{{ section.settings.banner_link }}" target="_self" rel="noopener noreferrer" class="block w-full h-full">{% endif %}

    {% comment %} Desktop Image/Video {% endcomment %}
    {% unless section.settings.video_url_desktop == blank %}
      <div class="hidden lg:block absolute inset-0">
        <site-video>
          <video
            {% unless section.settings.video_poster == blank %}poster="{{ section.settings.video_poster | image_url: width: 1920 }}"{% endunless %}
            class="w-full h-full object-cover"
            loop autoplay muted playsinline
          >
            <source src="{{ section.settings.video_url_desktop }}" type="video/mp4">
          </video>
        </site-video>
      </div>
    {% else %}
      {% unless section.settings.image_desktop == blank %}
        <div class="hidden lg:block absolute inset-0">
          {%- render 'image', image: section.settings.image_desktop, class: 'w-full h-full object-cover', loading: 'eager' -%}
        </div>
      {% endunless %}
    {% endunless %}

    {% comment %} Mobile Image/Video {% endcomment %}
    {% unless section.settings.video_url_mobile == blank %}
      <div class="lg:hidden absolute inset-0">
        <site-video>
          <video
            {% unless section.settings.video_poster_mobile == blank %}poster="{{ section.settings.video_poster_mobile | image_url: width: 1000 }}"{% endunless %}
            class="w-full h-full object-cover"
            loop autoplay muted playsinline
          >
            <source src="{{ section.settings.video_url_mobile }}" type="video/mp4">
          </video>
        </site-video>
      </div>
    {% else %}
      {% unless section.settings.image_mobile == blank %}
        <div class="lg:hidden absolute inset-0">
          {%- render 'image', image: section.settings.image_mobile, class: 'w-full h-full object-cover', loading: 'eager' -%}
        </div>
      {% endunless %}
    {% endunless %}

    {% if section.settings.banner_link != blank %}</a>{% endif %}
  </div>

  <!-- CONTENT: centered or two-column -->
  <div class="relative z-10 w-full px-4 lg:pl-16 {% if section.settings.fifty_fifty == true %}lg:flex lg:items-center lg:h-full{% else %}flex justify-center items-center h-full{% endif %}">
    <div class="hero-left-block max-w-xl mx-auto lg:mx-0 text-center lg:text-start {% if section.settings.text_color == 'white' %}text-white{% else %}text-black{% endif %} py-16 lg:py-0">
      {% unless section.settings.sub_heading == blank %}<p class="sub-heading mb-2">{{ section.settings.sub_heading }}</p>{% endunless %}
      {% unless section.settings.title == blank %}<h2 class="heading heading--1 mb-4">{{ section.settings.title }}</h2>{% endunless %}
      {% unless section.settings.text == blank %}<div class="paragraph mb-6 lg:mb-8">{{ section.settings.text }}</div>{% endunless %}
      {% if section.settings.cta_link != blank and section.settings.cta_text != blank %}
        <a class="button {% if section.settings.button_color == 'cream' %}button--cream{% else %}button--black{% endif %}" href="{{ section.settings.cta_link }}">{{ section.settings.cta_text }}</a>
      {% endif %}
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Hero",
  "tag": "section",
  "presets": [{ "name": "Hero" }],
  "settings": [
    { "type": "checkbox", "id": "fifty_fifty", "label": "Fifty Fifty" },
    { "type": "color", "id": "bg_color", "label": "Background Color" },
    { "type": "select", "id": "button_color", "label": "Button Color", "options": [ {"value":"black","label":"Black"}, {"value":"cream","label":"Cream"} ] },
    { "type": "select", "id": "text_color", "label": "Text Color",   "options": [ {"value":"white","label":"White"}, {"value":"black","label":"Black"} ] },
    { "type": "text", "id": "sub_heading", "label": "Sub-Heading" },
    { "type": "richtext", "id": "title",   "label": "Title" },
    { "type": "richtext", "id": "text",    "label": "Text" },
    { "type": "url", "id": "cta_link",     "label": "CTA Link" },
    { "type": "text", "id": "cta_text",    "label": "CTA Text" },
    { "type": "image_picker", "id": "image_desktop",          "label": "Background Image Desktop" },
    { "type": "image_picker", "id": "image_mobile",           "label": "Background Image Mobile" },
    { "type": "text",        "id": "video_url_desktop",       "label": "Video URL Desktop (Mp4)" },
    { "type": "text",        "id": "video_url_mobile",        "label": "Video URL Mobile (Mp4)" },
    { "type": "image_picker", "id": "video_poster_mobile",    "label": "Video Poster Mobile" },
    { "type": "image_picker", "id": "video_poster",           "label": "Video Poster Desktop" },
    { "type": "checkbox",    "id": "mobile_image_first",    "label": "Show mobile image first", "default": false },
    { "type": "url",         "id": "banner_link",           "label": "Banner Link",          "info": "URL para onde o usuário será direcionado ao clicar no banner" }
  ]
}
{% endschema %}
