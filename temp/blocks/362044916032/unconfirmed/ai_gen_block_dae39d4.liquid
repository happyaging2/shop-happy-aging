{% doc %}
  @prompt
    Liposome Analysis — Happy Aging
    A representative analysis of a Happy Aging liposomal formula shows how we confirm particle quality after simulated digestion.
    
    1. Dynamic Light Scattering (DLS)
    We measure the post-digestion particle size by DLS. Results are consistent across our entire line, verifying that the liposomes remain in the optimal nanometre range.
    
    2. Why DLS, not just TEM
    Single TEM images look impressive, but they capture only a few liposomes. DLS scans the whole sample, proving that every batch meets the “spherical-particle” specification—not just a photogenic subset.
    
    Bottom line
    DLS-verified size distribution ensures product-wide uniformity and the high encapsulation efficiency (> 90 %) that sets Happy Aging liposomes apart., UNIQUE IMAGE. MANTENHA A FORMATAÇÃO DE ACORDO COM O RESTANTE DA PÁGINA
    

{% enddoc %}
{% assign ai_gen_id = block.id | replace: '_', '' | downcase %}

{% style %}
  .unique-image-container-{{ ai_gen_id }} {
    margin: {{ block.settings.margin_vertical }}px {{ block.settings.margin_horizontal }}px;
    text-align: {{ block.settings.alignment }};
    max-width: 100%;
  }

  .unique-image-wrapper-{{ ai_gen_id }} {
    display: inline-block;
    position: relative;
    max-width: 100%;
    width: {{ block.settings.image_width }}px;
    overflow: hidden;
    border-radius: {{ block.settings.border_radius }}px;
    {% if block.settings.add_shadow %}
      box-shadow: 0 {{ block.settings.shadow_vertical_offset }}px {{ block.settings.shadow_blur }}px rgba(0, 0, 0, {{ block.settings.shadow_opacity | divided_by: 100.0 }});
    {% endif %}
    {% if block.settings.add_border %}
      border: {{ block.settings.border_thickness }}px solid {{ block.settings.border_color }};
    {% endif %}
  }

  .unique-image-{{ ai_gen_id }} {
    display: block;
    width: 100%;
    height: auto;
    transition: transform 0.3s ease;
  }

  {% if block.settings.enable_zoom_effect %}
    .unique-image-wrapper-{{ ai_gen_id }}:hover .unique-image-{{ ai_gen_id }} {
      transform: scale({{ block.settings.zoom_scale | divided_by: 10.0 | plus: 1 }});
    }
  {% endif %}

  .unique-image-placeholder-{{ ai_gen_id }} {
    width: 100%;
    height: 0;
    padding-bottom: {{ block.settings.aspect_ratio }}%;
    background-color: #f4f4f4;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .unique-image-placeholder-{{ ai_gen_id }} svg {
    width: 50%;
    height: 50%;
    color: #888888;
  }

  {% if block.settings.add_caption %}
    .unique-image-caption-{{ ai_gen_id }} {
      margin-top: 10px;
      font-size: {{ block.settings.caption_size }}px;
      color: {{ block.settings.caption_color }};
      text-align: {{ block.settings.caption_alignment }};
    }
  {% endif %}

  @media screen and (max-width: 749px) {
    .unique-image-container-{{ ai_gen_id }} {
      margin: {{ block.settings.margin_vertical | divided_by: 2 }}px {{ block.settings.margin_horizontal | divided_by: 2 }}px;
    }
    
    .unique-image-wrapper-{{ ai_gen_id }} {
      width: 100%;
      max-width: {{ block.settings.image_width }}px;
    }
  }
{% endstyle %}

<div class="unique-image-container-{{ ai_gen_id }}" {{ block.shopify_attributes }}>
  <div class="unique-image-wrapper-{{ ai_gen_id }}">
    {% if block.settings.image %}
      <img 
        src="{{ block.settings.image | image_url: width: block.settings.image_width }}" 
        alt="{{ block.settings.image.alt | escape }}"
        width="{{ block.settings.image_width }}"
        height="{{ block.settings.image_width | times: block.settings.image.aspect_ratio }}"
        loading="{{ block.settings.loading }}"
        class="unique-image-{{ ai_gen_id }}"
      >
    {% else %}
      <div class="unique-image-placeholder-{{ ai_gen_id }}">
        {{ 'image' | placeholder_svg_tag }}
      </div>
    {% endif %}
  </div>
  
  {% if block.settings.add_caption and block.settings.caption != blank %}
    <div class="unique-image-caption-{{ ai_gen_id }}">
      {{ block.settings.caption }}
    </div>
  {% endif %}
</div>

{% schema %}
{
  "name": "Unique Image",
  "tag": null,
  "settings": [
    {
      "type": "header",
      "content": "Image"
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "Image"
    },
    {
      "type": "range",
      "id": "image_width",
      "min": 100,
      "max": 1500,
      "step": 50,
      "unit": "px",
      "label": "Image width",
      "default": 700
    },
    {
      "type": "range",
      "id": "aspect_ratio",
      "min": 20,
      "max": 200,
      "step": 5,
      "unit": "%",
      "label": "Placeholder aspect ratio",
      "default": 75,
      "info": "Used for placeholder only. Actual image will maintain its original aspect ratio."
    },
    {
      "type": "select",
      "id": "alignment",
      "label": "Image alignment",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ],
      "default": "center"
    },
    {
      "type": "select",
      "id": "loading",
      "label": "Image loading",
      "options": [
        {
          "value": "lazy",
          "label": "Lazy load"
        },
        {
          "value": "eager",
          "label": "Immediate load"
        }
      ],
      "default": "lazy",
      "info": "Use 'Immediate load' for images visible above the fold"
    },
    {
      "type": "header",
      "content": "Styling"
    },
    {
      "type": "range",
      "id": "margin_horizontal",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "label": "Horizontal margin",
      "default": 0
    },
    {
      "type": "range",
      "id": "margin_vertical",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "label": "Vertical margin",
      "default": 20
    },
    {
      "type": "range",
      "id": "border_radius",
      "min": 0,
      "max": 40,
      "step": 2,
      "unit": "px",
      "label": "Border radius",
      "default": 0
    },
    {
      "type": "checkbox",
      "id": "add_border",
      "label": "Add border",
      "default": false
    },
    {
      "type": "range",
      "id": "border_thickness",
      "min": 1,
      "max": 10,
      "step": 1,
      "unit": "px",
      "label": "Border thickness",
      "default": 1
    },
    {
      "type": "color",
      "id": "border_color",
      "label": "Border color",
      "default": "#e5e5e5"
    },
    {
      "type": "checkbox",
      "id": "add_shadow",
      "label": "Add shadow",
      "default": false
    },
    {
      "type": "range",
      "id": "shadow_opacity",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "%",
      "label": "Shadow opacity",
      "default": 20
    },
    {
      "type": "range",
      "id": "shadow_vertical_offset",
      "min": 0,
      "max": 20,
      "step": 2,
      "unit": "px",
      "label": "Shadow vertical offset",
      "default": 4
    },
    {
      "type": "range",
      "id": "shadow_blur",
      "min": 0,
      "max": 40,
      "step": 5,
      "unit": "px",
      "label": "Shadow blur",
      "default": 10
    },
    {
      "type": "header",
      "content": "Effects"
    },
    {
      "type": "checkbox",
      "id": "enable_zoom_effect",
      "label": "Enable zoom on hover",
      "default": false
    },
    {
      "type": "range",
      "id": "zoom_scale",
      "min": 0,
      "max": 5,
      "step": 0.5,
      "unit": "%",
      "label": "Zoom scale",
      "default": 3
    },
    {
      "type": "header",
      "content": "Caption"
    },
    {
      "type": "checkbox",
      "id": "add_caption",
      "label": "Add caption",
      "default": false
    },
    {
      "type": "text",
      "id": "caption",
      "label": "Caption text"
    },
    {
      "type": "range",
      "id": "caption_size",
      "min": 12,
      "max": 20,
      "step": 1,
      "unit": "px",
      "label": "Caption font size",
      "default": 14
    },
    {
      "type": "color",
      "id": "caption_color",
      "label": "Caption color",
      "default": "#555555"
    },
    {
      "type": "select",
      "id": "caption_alignment",
      "label": "Caption alignment",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ],
      "default": "center"
    }
  ],
  "presets": [
    {
      "name": "Unique Image"
    }
  ]
}
{% endschema %}